ScreenManager:
    MainScreen:
        name: "main"
    AddWorkerScreen:
        name: "add_worker"
    TaskListScreen:
        name: "task_list"
    CreateTaskScreen:
        name: "create_task"

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Label:
            text: "Hlavn√≠ menu"
            font_size: 24
            size_hint_y: None
            height: 50

        Button:
            text: "‚ûï P≈ôidat pracovn√≠ka"
            size_hint_y: None
            height: 50
            on_press: app.root.current = "add_worker"

        Button:
            text: "üìã Zobrazit √∫koly"
            size_hint_y: None
            height: 50
            on_press: app.root.current = "task_list"

        Button:
            text: "üìù Vytvo≈ôit √∫kol"
            size_hint_y: None
            height: 50
            on_press: app.root.current = "create_task"

<AddWorkerScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Label:
            text: "P≈ôidat nov√©ho pracovn√≠ka"
            font_size: 20
            size_hint_y: None
            height: 30

        TextInput:
            id: new_worker_name
            hint_text: "Jm√©no pracovn√≠ka"
            size_hint_y: None
            height: 40

        TextInput:
            id: new_worker_age
            hint_text: "Vƒõk"
            input_filter: "int"
            size_hint_y: None
            height: 40

        Button:
            text: "Ulo≈æit pracovn√≠ka"
            size_hint_y: None
            height: 40
            on_press: root.save_worker()

        Button:
            text: "Zpƒõt"
            size_hint_y: None
            height: 40
            on_press: app.root.current = "main"

<TaskListScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Label:
            text: "Seznam √∫kol≈Ø"
            font_size: 20
            size_hint_y: None
            height: 40

        Button:
            text: "Naƒç√≠st √∫koly"
            size_hint_y: None
            height: 40
            on_press: root.show_tasks()

        ScrollView:
            GridLayout:
                id: tasks_container
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 10
                padding: 10

        Button:
            text: "Zpƒõt"
            size_hint_y: None
            height: 40
            on_press: app.root.current = "main"

<CreateTaskScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Label:
            text: "Vytvo≈ôit nov√Ω √∫kol"
            font_size: 20
            size_hint_y: None
            height: 40

        GridLayout:
            id: names_grid
            cols: 1
            size_hint_y: None
            height: self.minimum_height
            row_default_height: 40
            row_force_default: True

        TextInput:
            id: title_input
            hint_text: "N√°zev √∫kolu"
            size_hint_y: None
            height: 40

        TextInput:
            id: description_input
            hint_text: "Popis √∫kolu"
            size_hint_y: None
            height: 80

        Button:
            text: "Vybrat obr√°zek"
            size_hint_y: None
            height: 40
            on_press: root.open_filechooser()

        Button:
            text: "Ulo≈æit √∫kol"
            size_hint_y: None
            height: 40
            on_press: root.save_task()

        Button:
            text: "Zpƒõt"
            size_hint_y: None
            height: 40
            on_press: app.root.current = "main"
